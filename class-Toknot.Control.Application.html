<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class Toknot\Control\Application | ToknotV2</title>

	<script type="text/javascript" src="resources/combined.js?1925257259"></script>
	<script type="text/javascript" src="elementlist.js?4135267893"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
				<li><a href="namespace-Shop.html">Shop<span></span></a>
						<ul>
				<li><a href="namespace-Shop.Controller.html">Controller<span></span></a>
						<ul>
				<li><a href="namespace-Shop.Controller.User.html">User</a>
						</li>
							</ul></li></ul></li>
				<li class="active"><a href="namespace-Toknot.html">Toknot<span></span></a>
						<ul>
				<li><a href="namespace-Toknot.Config.html">Config</a>
						</li>
				<li class="active"><a href="namespace-Toknot.Control.html">Control<span></span></a>
						<ul>
				<li><a href="namespace-Toknot.Control.Exception.html">Exception</a>
						</li>
							</ul></li>
				<li><a href="namespace-Toknot.Db.html">Db<span></span></a>
						<ul>
				<li><a href="namespace-Toknot.Db.Driver.html">Driver</a>
						</li>
				<li><a href="namespace-Toknot.Db.Exception.html">Exception</a>
						</li>
							</ul></li>
				<li><a href="namespace-Toknot.Di.html">Di</a>
						</li>
				<li><a href="namespace-Toknot.Exception.html">Exception</a>
						</li>
				<li><a href="namespace-Toknot.Http.html">Http<span></span></a>
						<ul>
				<li><a href="namespace-Toknot.Http.TransportsException.html">TransportsException</a>
						</li>
							</ul></li>
				<li><a href="namespace-Toknot.Image.html">Image<span></span></a>
						<ul>
				<li><a href="namespace-Toknot.Image.CartoonImage.html">CartoonImage</a>
						</li>
							</ul></li>
				<li><a href="namespace-Toknot.Process.html">Process<span></span></a>
						<ul>
				<li><a href="namespace-Toknot.Process.Eception.html">Eception</a>
						</li>
				<li><a href="namespace-Toknot.Process.Exception.html">Exception</a>
						</li>
							</ul></li>
				<li><a href="namespace-Toknot.Tool.html">Tool</a>
						</li>
				<li><a href="namespace-Toknot.View.html">View</a>
						</li>
							</ul></li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Toknot.Control.Application.html">Application</a></li>
				<li><a href="class-Toknot.Control.FMAI.html">FMAI</a></li>
				<li><a href="class-Toknot.Control.Router.html">Router</a></li>
				<li><a href="class-Toknot.Control.StandardAutoloader.html">StandardAutoloader</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-Toknot.Control.RouterInterface.html">RouterInterface</a></li>
			</ul>




		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Toknot.Control.html" title="Summary of Toknot\Control"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Application</h1>


	<div class="description">
	
<p>Toknot main class and run framework</p>

<pre>
<span class="php-keyword1">use</span> Toknot\Control\Application;
<span
class="php-keyword1">require_once</span> <span
class="php-quote">'/path/Toknot/Control/Application.php'</span>;
<span
class="php-var">$app</span> = <span
class="php-keyword1">new</span> Application;
<span
class="php-var">$app</span>-&gt;run(<span
class="php-quote">'\AppTopNamespace'</span>, <span
class="php-quote">'/path/AppPath'</span>);
</pre>

	</div>









	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Toknot.html">Toknot</a>\<a href="namespace-Toknot.Control.html">Control</a><br />
		

		<b>Located at</b> <a href="source-class-Toknot.Control.Application.html#23-299" title="Go to source code">Toknot/Control/Application.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Toknot.Control.Application.html#56-96" title="Go to source code">__construct</a>( <span>array <var>$argv</var> = <span class="php-keyword1">array</span>()</span>, <span>integer <var>$argc</var> = <span class="php-num">0</span></span> )</code>

		<div class="description short">
			
<p>The construct parameters only receive PHP in CLI mode passed argv and argc
parameters and save there to $_SERVER via iniEnv method, the method has define
one constant of name DEVELOPMENT which is set true (default value) will
show Exception message, is false only return 500 Internal Server Error status
code</p>

		</div>

		<div class="description detailed hidden">
			
<p>The construct parameters only receive PHP in CLI mode passed argv and argc
parameters and save there to $_SERVER via iniEnv method, the method has define
one constant of name DEVELOPMENT which is set true (default value) will
show Exception message, is false only return 500 Internal Server Error status
code</p>

<pre>
<span class="php-keyword1">use</span> Toknot\Control\Application;

<span
class="php-keyword1">require_once</span> <span
class="php-quote">'/path/Toknot/Control/Application.php'</span>;

<span
class="php-var">$app</span> = <span
class="php-keyword1">new</span> Application;
</pre>

<p>if PHP on CLI mode, and use below code on command line:</p>

<pre>
php App.php option1 option2
</pre>

<p>in php script like below:</p>

<pre>
<span class="php-var">$app</span> = <span
class="php-keyword1">new</span> Application(<span
class="php-var">$argv</span>, <span class="php-var">$argc</span>);

<span
class="php-keyword1">function</span> printArg() {
     <span
class="php-keyword2">var_dump</span>(<span class="php-var">$_SERVER</span>[<span
class="php-quote">'argc'</span>][<span class="php-num">0</span>]); <span
class="php-comment">// print option1</span>
     <span
class="php-keyword2">var_dump</span>(<span class="php-var">$_SERVER</span>[<span
class="php-quote">'argc'</span>][<span class="php-num">1</span>]); <span
class="php-comment">// print option2</span>
     <span
class="php-keyword2">var_dump</span>(<span class="php-var">$_SERVER</span>[<span
class="php-quote">'argc'</span>]); <span
class="php-comment">//print number of args</span>
}
</pre>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$argv</var></dt>
					<dd><code>array</code><br>$argv Array of arguments passed to script</dd>
					<dt><var>$argc</var></dt>
					<dd><code>integer</code><br>$argc The number of passed to script</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="run" id="_run">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_run">#</a>
		<code><a href="source-class-Toknot.Control.Application.html#156-255" title="Go to source code">run</a>( <span>string <var>$appNameSpace</var></span>, <span>string <var>$appPath</var></span>, <span>string <var>$defaultInvoke</var> = <span class="php-quote">'\Index'</span></span> )</code>

		<div class="description short">
			
<p>Run application, the method will invoke router with implements interface of
<code><a href="class-Toknot.Control.RouterInterface.html">Toknot\Control\RouterInterface</a></code> of all method, Toknot Freamework default
invoke class under application of Controller Dicetory, scan file path is under
$appPath parameter set path(like: /path/appPath/Controller). The class be invoke
by toknot of router invoke method with passed instance of Toknot \Toknot\Control\AppContext, you can receive the object of instance when class
construct</p>

		</div>

		<div class="description detailed hidden">
			
<p>Run application, the method will invoke router with implements interface of
<code><a href="class-Toknot.Control.RouterInterface.html">Toknot\Control\RouterInterface</a></code> of all method, Toknot Freamework default
invoke class under application of Controller Dicetory, scan file path is under
$appPath parameter set path(like: /path/appPath/Controller). The class be invoke
by toknot of router invoke method with passed instance of Toknot \Toknot\Control\AppContext, you can receive the object of instance when class
construct</p>

<p>Usual use toknot of router, run framework like below:</p>

<pre>
<span class="php-keyword1">use</span> Toknot\Control\Application;

<span
class="php-keyword1">require_once</span> <span
class="php-quote">'./Toknot/Control/Application.php'</span>;

<span
class="php-var">$app</span> = <span
class="php-keyword1">new</span> Application;
<span
class="php-var">$app</span>-&gt;run(<span
class="php-quote">'\AppTopNamespace'</span>, <span
class="php-quote">'/path/AppPath'</span>);
</pre>

<p>if use application of router ,use <code><a href="class-Toknot.Control.Application.html#_setUserRouter">Toknot\Control\Application::setUserRouter()</a></code> define, run framework like
below:</p>

<pre>
<span class="php-keyword1">use</span> Toknot\Control\Application;

<span
class="php-keyword1">require_once</span> <span
class="php-quote">'./Toknot/Control/Application.php'</span>;

<span
class="php-var">$app</span> = <span
class="php-keyword1">new</span> Application;

<span
class="php-comment">//set self router with TopNamespace</span>
<span
class="php-var">$app</span>-&gt;setUserRouter(<span
class="php-quote">'\AppTopNamespace\Router'</span>);

<span
class="php-var">$app</span>-&gt;run(<span
class="php-quote">'\AppTopNamespace'</span>, <span
class="php-quote">'/path/AppPath'</span>);
</pre>

<p>define your websiet index page of root when router of toknot, like this:</p>

<pre>
<span class="php-keyword1">use</span> Toknot\Control\Application;

<span
class="php-keyword1">require_once</span> <span
class="php-quote">'./Toknot/Control/Application.php'</span>;

<span
class="php-var">$app</span> = <span
class="php-keyword1">new</span> Application;

<span
class="php-comment">//set index page without TopNamespace and ControllerNamespace</span>
<span
class="php-var">$app</span>-&gt;run(<span
class="php-quote">'\AppTopNamespace'</span>, <span
class="php-quote">'/path/AppPath'</span>, <span
class="php-quote">'\Index'</span>);
</pre>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$appNameSpace</var></dt>
					<dd><code>string</code><br>$appNameSpace Application of Namespace with top without full namespace</dd>
					<dt><var>$appPath</var></dt>
					<dd><code>string</code><br>$appPath Application of directory with full path, and not is Controller layer
full path</dd>
					<dt><var>$defaultInvoke</var></dt>
					<dd><code>string</code><br>$defaultInvoke The parameter of default invoke class for router when no request
uri, if it is not set,will throw BadClassCallException when user request site
root and no query,The class name of default with not full namespace class name
can not contain application top namespace and Controller layer namespace</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Toknot.Exception.BadNamespaceException.html">Toknot\Exception\BadNamespaceException</a></code></code><br />
					<code><code><a href="class-Toknot.Exception.BadClassCallException.html">Toknot\Exception\BadClassCallException</a></code></code><br />
					<code><code><a href="class-Toknot.Exception.StandardException.html">Toknot\Exception\StandardException</a></code></code><br />
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="errorReportHandler" id="_errorReportHandler">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_errorReportHandler">#</a>
		<code><a href="source-class-Toknot.Control.Application.html#257-265" title="Go to source code">errorReportHandler</a>( )</code>

		<div class="description short">
			
<p>transform php error to Exceptoion, all error will use <code><a href="class-Toknot.Exception.StandardException.html">Toknot\Exception\StandardException</a></code></p>

		</div>

		<div class="description detailed hidden">
			
<p>transform php error to Exceptoion, all error will use <code><a href="class-Toknot.Exception.StandardException.html">Toknot\Exception\StandardException</a></code></p>








		</div>
		</div></td>
	</tr>
	<tr data-order="setUserRouter" id="_setUserRouter">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setUserRouter">#</a>
		<code><a href="source-class-Toknot.Control.Application.html#267-279" title="Go to source code">setUserRouter</a>( <span>string <var>$routerName</var></span> )</code>

		<div class="description short">
			
<p>set user router instead of toknot default router</p>

		</div>

		<div class="description detailed hidden">
			
<p>set user router instead of toknot default router</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$routerName</var></dt>
					<dd><code>string</code><br>$routerName The string of need of router name</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Toknot.Exception.BadNamespaceException.html">Toknot\Exception\BadNamespaceException</a></code></code><br />
				</div>



		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		ToknotV2 API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
